# EltexMES

Шаблоны для коммутаторов Eltex серии MES для версии Zabbix 4,6,7.


Реализовано автообнаружение:
1. Вентиляторов.
2. Версий ПО.
3. Датчиков температуры.
4. Соседей OSPF.
5. Интерфейсов медных, оптических, агрегированных.

Обнаружение интерфейсов с т.н. context macros, что позволяет определять реакцию Заббикса на падение интерфейсов.

Например:

Вариант1: На устройстве **coreeltex1** все интерфейсы важные, кроме `te1/0/2`. То есть, все интерфейсы стреляют, кроме `te1/0/2`.

`{$IFCONTROL}=1` (Определен в модуле **Template Module Eltex MES Interfaces SNMPv2** по-умолчанию)

`{$IFCONTROL:te1/0/2}=0` (Создать макроc на устройстве **coreeltex1**)


Вариант2: На устройстве **accesseltex2** все интерфейсы не важные, кроме `te1/0/2`. То есть, стреляет только `te1/0/2`.
`{$IFCONTROL}=0` (Переопределить на устройстве **accesseltex2**)

`{$IFCONTROL:te1/0/2}=1` (Создать макроc на устройстве **accesseltex2**)

Для описания нескольких интерфейсов в версии Zabbix >=5 можно использовать регулярные выражения, например:
`{$IFCONTROL:regex:"te1/0/2|te1/0/3"}=1` - два интерфейса: `te1/0/2` или `te1/0/3`

`{$IFCONTROL:regex:"^gi.+$"}=1`              - все интерфейсы, именования которых начинаются на `gi`

Предупреждения, замечания и ограничения - см. документацию к Zabbix.

Корректно работает со стеком.


## Howto:

Присоединить шаблон к хосту.

